/*
PluginDetect v0.8.8
www.pinlady.net/PluginDetect/license/
[ VLC ]
[ isMinVersion getVersion hasMimeType ]
[ ]
*/
(function(){var a={version:"0.8.8",name:"PluginDetect",addPlugin:function(b,c){b&&a.isString(b)&&c&&a.isFunc(c.getVersion)&&(b=b.replace(/\s/g,"").toLowerCase(),a.Plugins[b]=c,a.isDefined(c.getVersionDone)||(c.installed=null,c.version=null,c.version0=null,c.getVersionDone=null,c.pluginName=b))},openTag:"<",hasOwnProperty:{}.constructor.prototype.hasOwnProperty,hasOwn:function(b,c){var d;try{d=a.hasOwnProperty.call(b,c)}catch(e){}return!!d},rgx:{str:/string/i,num:/number/i,fun:/function/i,arr:/array/i},toString:{}.constructor.prototype.toString,isDefined:function(a){return"undefined"!=typeof a},isArray:function(b){return a.rgx.arr.test(a.toString.call(b))},isString:function(b){return a.rgx.str.test(a.toString.call(b))},isNum:function(b){return a.rgx.num.test(a.toString.call(b))},isStrNum:function(b){return a.isString(b)&&/\d/.test(b)},isFunc:function(b){return a.rgx.fun.test(a.toString.call(b))},getNumRegx:/[\d][\d\.\_,\-]*/,splitNumRegx:/[\.\_,\-]/g,getNum:function(b,c){var d=a.isStrNum(b)?(a.isDefined(c)?RegExp(c):a.getNumRegx).exec(b):null;return d?d[0]:null},compareNums:function(b,c,d){var e=parseInt;if(a.isStrNum(b)&&a.isStrNum(c)){if(a.isDefined(d)&&d.compareNums)return d.compareNums(b,c);b=b.split(a.splitNumRegx);c=c.split(a.splitNumRegx);for(d=0;d<Math.min(b.length,c.length);d++){if(e(b[d],10)>e(c[d],10))return 1;if(e(b[d],10)<e(c[d],10))return-1}}return 0},formatNum:function(b,c){var d,e;if(!a.isStrNum(b))return null;a.isNum(c)||(c=4);c--;e=b.replace(/\s/g,"").split(a.splitNumRegx).concat(["0","0","0","0"]);for(d=0;4>d;d++)if(/^(0+)(.+)$/.test(e[d])&&(e[d]=RegExp.$2),d>c||!/\d/.test(e[d]))e[d]="0";return e.slice(0,4).join(",")},pd:{getPROP:function(b,c,d){try{b&&(d=b[c])}catch(e){}return d},findNavPlugin:function(b){if(b.dbug)return b.dbug;if(window.navigator){var c={Find:a.isString(b.find)?RegExp(b.find,"i"):b.find,Find2:a.isString(b.find2)?RegExp(b.find2,"i"):b.find2,Avoid:b.avoid?a.isString(b.avoid)?RegExp(b.avoid,"i"):b.avoid:0,Num:b.num?/\d/:0},d,e,f,g=navigator.mimeTypes,h=navigator.plugins,l=null;if(b.mimes&&g)for(f=a.isArray(b.mimes)?[].concat(b.mimes):a.isString(b.mimes)?[b.mimes]:[],d=0;d<f.length;d++){e=0;try{a.isString(f[d])&&/[^\s]/.test(f[d])&&(e=g[f[d]].enabledPlugin)}catch(n){}if(e&&(e=this.findNavPlugin_(e,c),e.obj&&(l=e.obj),l&&!a.dbug))return l}if(b.plugins&&h){b=a.isArray(b.plugins)?[].concat(b.plugins):a.isString(b.plugins)?[b.plugins]:[];for(d=0;d<b.length;d++){e=0;try{b[d]&&a.isString(b[d])&&(e=h[b[d]])}catch(p){}if(e&&(e=this.findNavPlugin_(e,c),e.obj&&(l=e.obj),l&&!a.dbug))return l}b=h.length;if(a.isNum(b))for(d=0;d<b;d++){e=0;try{e=h[d]}catch(m){}if(e&&(e=this.findNavPlugin_(e,c),e.obj&&(l=e.obj),l&&!a.dbug))break}}}return l},findNavPlugin_:function(a,c){var d=a.description||"",e=a.name||"",f={};if(c.Find.test(d)&&!(c.Find2&&!c.Find2.test(e)||c.Num&&!c.Num.test(RegExp.leftContext+RegExp.rightContext))||c.Find.test(e)&&!(c.Find2&&!c.Find2.test(d)||c.Num&&!c.Num.test(RegExp.leftContext+RegExp.rightContext)))c.Avoid&&(c.Avoid.test(d)||c.Avoid.test(e))||(f.obj=a);return f},getVersionDelimiter:",",findPlugin:function(b){var c,d={status:-3,plugin:0};if(!a.isString(b))return d;if(1==b.length)return this.getVersionDelimiter=b,d;b=b.toLowerCase().replace(/\s/g,"");c=a.Plugins[b];if(!c||!c.getVersion)return d;d.plugin=c;d.status=1;return d}},AXO:function(){var a;try{a=new window.ActiveXObject}catch(c){}return a?null:window.ActiveXObject}(),getAXO:function(b){var c=null;try{c=new a.AXO(b)}catch(d){}c&&(a.browser.ActiveXEnabled=!0);return c},browser:{},INIT:function(){a.init.library()},init:{hasRun:0,detectIE:function(){var b=a.browser,c=document,d,e=window.navigator?navigator.userAgent||"":"",f,g;b.ActiveXFilteringEnabled=!1;b.ActiveXEnabled=!1;try{b.ActiveXFilteringEnabled=!!window.external.msActiveXFilteringEnabled()}catch(h){}g=["WMPlayer.OCX","ShockwaveFlash.ShockwaveFlash","AgControl.AgControl"];f="Msxml2.XMLHTTP Msxml2.DOMDocument Microsoft.XMLDOM TDCCtl.TDCCtl Shell.UIHelper HtmlDlgSafeHelper.HtmlDlgSafeHelper Scripting.Dictionary".split(" ").concat(g);for(d=0;d<f.length&&(!a.getAXO(f[d])||a.dbug);d++);if(b.ActiveXEnabled&&b.ActiveXFilteringEnabled)for(d=0;d<g.length;d++)if(a.getAXO(g[d])){b.ActiveXFilteringEnabled=!1;break}d=c.documentMode;try{c.documentMode=""}catch(l){}b.isIE=b.ActiveXEnabled||a.isNum(c.documentMode)||eval("/*@cc_on!@*/!1");try{c.documentMode=d}catch(n){}b.verIE=null;b.isIE&&(b.verIE=(a.isNum(c.documentMode)&&7<=c.documentMode?c.documentMode:0)||(/^(?:.*?[^a-zA-Z])??(?:MSIE|rv\s*\:)\s*(\d+\.?\d*)/i.test(e)?parseFloat(RegExp.$1,10):7));},detectNonIE:function(){var b=a.browser,c=window.navigator?navigator:{},d=b.isIE?"":c.userAgent||"",e=c.vendor||"",c=c.product||"";b.isGecko=/Gecko/i.test(c)&&/Gecko\s*\/\s*\d/i.test(d);b.verGecko=b.isGecko?a.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(d)?RegExp.$1:"0.9"):null;b.isOpera=/(OPR\s*\/|Opera\s*\/\s*\d.*\s*Version\s*\/|Opera\s*[\/]?)\s*(\d+[\.,\d]*)/i.test(d);b.verOpera=b.isOpera?a.formatNum(RegExp.$2):null;b.isChrome=!b.isOpera&&/(Chrome|CriOS)\s*\/\s*(\d[\d\.]*)/i.test(d);b.verChrome=b.isChrome?a.formatNum(RegExp.$2):null;b.isSafari=!b.isOpera&&!b.isChrome&&(/Apple/i.test(e)||!e)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(d);b.verSafari=b.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(d)?a.formatNum(RegExp.$1):null;},detectPlatform:function(){var b,c=window.navigator?navigator.platform||"":"";a.OS=100;if(c){var d=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(b=d.length-2;0<=b;b-=2)if(d[b]&&RegExp(d[b],"i").test(c)){a.OS=d[b+1];break}}},library:function(){var b=document;a.win.init();a.head=b.getElementsByTagName("head")[0]||b.getElementsByTagName("body")[0]||b.body||null;this.detectPlatform();this.detectIE();this.detectNonIE();this.hasRun=1;}},ev:{handler:function(a,c,d,e){return function(){a(c,d,e)}},fPush:function(b,c){a.isArray(c)&&(a.isFunc(b)||a.isArray(b)&&0<b.length&&a.isFunc(b[0]))&&c.push(b)},call0:function(b){var c=a.isArray(b)?b.length:-1;0<c&&a.isFunc(b[0])?(b[0](a,1<c?b[1]:0,2<c?b[2]:0,3<c?b[3]:0)):a.isFunc(b)&&(b(a));},callArray0:function(b){var c;if(a.isArray(b))for(;b.length;)c=b[0],b.splice(0,1),this.call0(c)},call:function(a){this.call0(a);this.ifDetectDoneCallHndlrs()},callArray:function(a){this.callArray0(a);this.ifDetectDoneCallHndlrs()},allDoneHndlrs:[],ifDetectDoneCallHndlrs:function(){var b,c;if(this.allDoneHndlrs.length&&(!a.win||a.win.loaded&&!a.win.loadPrvtHndlrs.length&&!a.win.loadPblcHndlrs.length)){if(a.Plugins)for(b in a.Plugins)if(c=a.Plugins[b],a.hasOwn(a.Plugins,b)&&c&&a.isFunc(c.getVersion)&&(3==c.OTF||c.DoneHndlrs&&c.DoneHndlrs.length))return;this.callArray0(this.allDoneHndlrs);}}},isMinVersion:function(b,c,d,e){var f=a.pd.findPlugin(b),g=-1;if(0>f.status)return f.status;f=f.plugin;c=a.formatNum(a.isNum(c)?c.toString():a.isStrNum(c)?a.getNum(c):"0");1!=f.getVersionDone&&(f.getVersion(c,d,e),null===f.getVersionDone&&(f.getVersionDone=1));null!==f.installed&&(g=0.5>=f.installed?f.installed:0.7==f.installed?1:null===f.version?0:0<=a.compareNums(f.version,c,f)?1:-0.1);return g},getVersion:function(b,c,d){var e=a.pd.findPlugin(b);if(0>e.status)return null;e=e.plugin;1!=e.getVersionDone&&(e.getVersion(null,c,d),null===e.getVersionDone&&(e.getVersionDone=1));e=(e=e.version||e.version0)?e.replace(a.splitNumRegx,a.pd.getVersionDelimiter):e;return e},hasMimeType:function(b){if(b&&window.navigator&&navigator.mimeTypes){var c,d,e,f=navigator.mimeTypes,g=a.isArray(b)?[].concat(b):a.isString(b)?[b]:[];e=g.length;for(d=0;d<e;d++){b=0;try{a.isString(g[d])&&/[^\s]/.test(g[d])&&(b=f[g[d]])}catch(h){}if((c=b?b.enabledPlugin:0)&&(c.name||c.description))return b}}return null},codebase:{isDisabled:function(){return a.browser.ActiveXEnabled&&a.isDefined(a.pd.getPROP(document.createElement("object"),"object"))?0:1},pluginMayBeHanging:function(b){return!this.isDisabled()&&b&&a.isDefined(a.pd.getPROP(b,"readyState"))&&a.pd.getPROP(b.firstChild,"object")&&(b=a.pd.getPROP(b.firstChild,"readyState"),a.isNum(b)&&4!=b)?(1):0},emptyNode:function(a){try{a.innerHTML=""}catch(c){}},emptyGarbage:function(){var b,c=this.HTML,d=0;if(c.length){for(b=c.length-1;b>=this.len;b--)c[b]&&c[b].span&&this.pluginMayBeHanging(c[b].span)&&(this.emptyNode(c[b].span),c[b].span=null,d=1);this.len=c.length;if(d){try{window.CollectGarbage()}catch(e){}}}},HTML:[],len:0,onDone:function(a,c){var d,e=c.HTML;for(d=0;d<e.length;d++)e[d]&&e[d].span&&(c.emptyNode(e[d].span),e[d].span=null)},init:function(b){if(!b.init){b.init=1;var c;a.ev.fPush([this.onDone,this],a.win.unloadHndlrs);b.tagA='<object width="1" height="1" style="display:none;" codebase="#version=';c=b.classID||b.$$.classID||"";b.tagB='" '+(/clsid\s*:/i.test(c)?'classid="':'type="')+c+'">'+a.openTag+"/object>";for(c=0;c<b.Lower.length;c++)b.Lower[c]=a.formatNum(b.Lower[c]),b.Upper[c]=a.formatNum(b.Upper[c]);}},isActiveXObject:function(b,c){var d=0,e=b.$$,f=document.createElement("span");if(b.min&&0>=a.compareNums(c,b.min))return 1;if(b.max&&0<=a.compareNums(c,b.max))return 0;f.innerHTML=b.tagA+c+b.tagB;a.pd.getPROP(f.firstChild,"object")&&(d=1);d?(b.min=c,this.HTML.push({span:f})):(b.max=c,f.innerHTML="");return d},convert_:function(b,c,d,e){return(b=b.convert[c])?a.isFunc(b)?a.formatNum(b(d.split(a.splitNumRegx),e).join(",")):d:b},convert:function(b,c,d){var e,f,g;c=a.formatNum(c);f={v:c,x:-1};if(c)for(e=0;e<b.Lower.length;e++)if((g=this.convert_(b,e,b.Lower[e]))&&0<=a.compareNums(c,d?g:b.Lower[e])&&(!e||0>a.compareNums(c,d?this.convert_(b,e,b.Upper[e]):b.Upper[e]))){f.v=this.convert_(b,e,c,d);f.x=e;break}return f},isMin:function(b,c){var d,e=0;if(!a.isStrNum(c)||this.isDisabled())return e;this.init(b);if(!b.L)for(b.L={},d=0;d<b.Lower.length;d++)if(this.isActiveXObject(b,b.Lower[d])){b.L=this.convert(b,b.Lower[d]);break}b.L.v&&(d=this.convert(b,c,1),0<=d.x&&(e=(b.L.x==d.x?this.isActiveXObject(b,d.v):0>=a.compareNums(c,b.L.v))?1:-1));return e},search:function(b){var c=this,d=b.$$,e=0,f;f=b.searchHasRun||c.isDisabled()?1:0;b.searchHasRun=1;if(f)return b.version||null;c.init(b);var g,h=function(d,f){var g=[].concat(m);g[d]=f;g=c.isActiveXObject(b,g.join(","));g?(e=1,m[d]=f):k[d]=f;return g},l=b.DIGITMAX,n,p,m=[0,0,0,0],k=[0,0,0,0];for(f=0;f<k.length;f++){m[f]=Math.floor(b.DIGITMIN[f])||0;n=m.join(",");p=m.slice(0,f).concat([99999999,99999999,99999999,99999999]).slice(0,m.length).join(",");for(g=0;g<l.length;g++)a.isArray(l[g])&&(l[g].push(0),l[g][f]>k[f]&&0<=a.compareNums(p,b.Lower[g])&&0>a.compareNums(n,b.Upper[g])&&(k[f]=Math.floor(l[g][f])));for(g=0;30>g;g++){if(16>=k[f]-m[f]){for(g=k[f];g>=m[f]+(f?1:0)&&!h(f,g);g--);break}h(f,Math.round((k[f]+m[f])/2))}if(!e)break;k[f]=m[f];}e&&(b.version=c.convert(b,m.join(",")).v);return b.version||null}},win:{loaded:!1,hasRun:0,init:function(){this.hasRun||(this.hasRun=1,this.addEvent("load",this.onLoad),this.addEvent("unload",this.onUnload))},addEvent:function(b,c){var d=window;a.isFunc(c)&&(d.addEventListener?d.addEventListener(b,c,!1):d.attachEvent?d.attachEvent("on"+b,c):d["on"+b]=this.concatFn(c,d["on"+b]))},concatFn:function(a,c){return function(){a();"function"==typeof c&&c()}},loadPrvtHndlrs:[],loadPblcHndlrs:[],unloadHndlrs:[],onUnload:function(){if(a&&a.win){a.ev.callArray(a.win.unloadHndlrs);for(var b in a)a[b]=0;a=0}},count:0,countMax:1,intervalLength:10,onLoad:function(){if(a&&a.win&&!a.win.loaded){var b=a.win;b.count<b.countMax&&b.loadPrvtHndlrs.length?(setTimeout(b.onLoad,b.intervalLength)):(b.loaded=!0,a.ev.callArray(b.loadPrvtHndlrs),a.ev.callArray(b.loadPblcHndlrs));b.count++}}},Plugins:{}};window[a.name]=a;a.INIT();var x={compareNums:function(b,c){var d=b.split(a.splitNumRegx),e=c.split(a.splitNumRegx),f,g,h,k,n;for(f=0;f<Math.min(d.length,e.length);f++){/([\d]+)([a-z]?)/.test(d[f]);g=parseInt(RegExp.$1,10);k=2==f&&0<RegExp.$2.length?RegExp.$2.charCodeAt(0):-1;/([\d]+)([a-z]?)/.test(e[f]);h=parseInt(RegExp.$1,10);n=2==f&&0<RegExp.$2.length?RegExp.$2.charCodeAt(0):-1;if(g!=h)return g>h?1:-1;if(2==f&&k!=n)return k>n?1:-1}return 0},setPluginStatus:function(b,c,d){this.installed=c?1:d?0<d?0.7:-0.1:b?0:-1;c&&(this.version=a.formatNum(c));this.getVersionDone=0.7==this.installed||-0.1==this.installed?0:1;a.codebase.emptyGarbage();},getVersion:function(b){var c,d=null;c&&!a.dbug||!this.nav.query().installed||(c=1);d&&!a.dbug||!this.nav.query().version||(d=this.nav.version);c&&!a.dbug||!this.axo.query().installed||(c=1);d&&!a.dbug||!this.axo.query().version||(d=this.axo.version);if(!d||a.dbug)if(b=this.codebase.isMin(b)){this.setPluginStatus(0,0,b);return}if(!d||a.dbug)if(b=this.codebase.search())c=1,d=b;this.setPluginStatus(c,d,0)},nav:{hasRun:0,installed:0,version:null,mimeType:"application/x-vlc-plugin application/x-google-vlc-plugin application/mpeg4-muxcodetable application/x-matroska application/xspf+xml video/divx video/webm video/x-mpeg video/x-msvideo video/ogg audio/x-flac audio/amr audio/amr".split(" "),find:"VLC.*Plug-?in",find2:"VLC|VideoLAN",avoid:"Totem|Helix",plugins:["VLC Web Plugin","VLC Multimedia Plug-in","VLC Multimedia Plugin","VLC multimedia plugin"],query:function(){var b,c;c=this.hasRun||!a.hasMimeType(this.mimeType);this.hasRun=1;if(c)return this;if(c=a.pd.findNavPlugin({find:this.find,avoid:this.avoid,mimes:this.mimeType,plugins:this.plugins}))this.installed=1,c.description&&(b=a.getNum(c.description+"","[\\d][\\d\\.]*[a-z]*")),b&&(this.version=b);return this}},axo:{hasRun:0,installed:0,version:null,progID:"VideoLAN.VLCPlugin",query:function(){var b;b=this.hasRun;this.hasRun=1;if(b)return this;if(b=a.getAXO(this.progID))if(this.installed=1,b=a.getNum(a.pd.getPROP(b,"VersionInfo"),"[\\d][\\d\\.]*[a-z]*"))this.version=b;return this}},codebase:{classID:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921",isMin:function(b){this.$$=x;return a.codebase.isMin(this,b)},search:function(){this.$$=x;return a.codebase.search(this)},DIGITMAX:[[11,11,16]],DIGITMIN:[0,0,0,0],Upper:["999"],Lower:["0"],convert:[1]}};a.addPlugin("vlc",x);})();